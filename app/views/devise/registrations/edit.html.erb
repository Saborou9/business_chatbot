<div class="flex min-h-screen">
  <!-- Sidebar -->
  <div class="w-1/4 bg-gray-100 p-6 border-r">
    <nav class="space-y-4">
      <div class="sidebar-section">
        <h3 class="text-xl font-semibold mb-4 border-b pb-2">Account Settings</h3>
        <ul class="space-y-2">
          <li>
            <a href="#profile" class="flex items-center text-gray-700 hover:text-blue-600 transition">
              <i class="fas fa-user mr-2"></i>Profile
            </a>
          </li>
          <li>
            <a href="#account-deletion" class="flex items-center text-gray-700 hover:text-blue-600 transition">
              <i class="fas fa-trash-alt mr-2"></i>API Keys
            </a>
          </li>
          <li>
            <a href="#account-deletion" class="flex items-center text-red-600 hover:text-red-800 transition">
              <i class="fas fa-trash-alt mr-2"></i>Delete Account
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </div>

  <!-- Main Content -->
  <div class="w-3/4 p-8">
    <!-- Profile Section -->
    <section id="profile" class="mb-8">
      <h2 class="text-2xl font-bold mb-6">Profile Settings</h2>
      
      <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: 'space-y-4' }) do |f| %>
        <%= render "devise/shared/error_messages", resource: resource %>

        <div class="form-group">
          <%= f.label :email, class: 'block mb-2' %>
          <%= f.email_field :email, autofocus: true, autocomplete: "email", 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
        </div>

        <div class="form-group">
          <%= f.label :username, class: 'block mb-2' %>
          <%= f.text_field :username, 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
        </div>

        <div class="form-group">
          <%= f.label :password, "New Password", class: 'block mb-2' %>
          <%= f.password_field :password, autocomplete: "new-password", 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
          <p class="text-sm text-gray-600 mt-1">Leave blank if you don't want to change it</p>
        </div>

        <div class="form-group">
          <%= f.label :password_confirmation, class: 'block mb-2' %>
          <%= f.password_field :password_confirmation, autocomplete: "new-password", 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
        </div>

        <div class="form-group">
          <%= f.label :current_password, class: 'block mb-2' %>
          <%= f.password_field :current_password, autocomplete: "current-password", 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
          <p class="text-sm text-gray-600 mt-1">We need your current password to confirm your changes</p>
        </div>

        <div class="form-group">
          <%= f.submit "Update Profile", class: 'bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition' %>
        </div>
      <% end %>
    </section>

    <section id="api_keys" class="mb-8">
      <h2 class="text-2xl font-bold mb-6">API Keys</h2>
      
      <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: 'space-y-4' }) do |f| %>
        <%= render "devise/shared/error_messages", resource: resource %>

        <div class="form-group">
          <%= f.label :deepseek, class: 'block mb-2' %>
          <%= f.email_field :email, autofocus: true, 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
        </div>

        <div class="form-group">
          <%= f.label :username, class: 'block mb-2' %>
          <%= f.text_field :username, 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
        </div>

        <div class="form-group">
          <%= f.label :password, "New Password", class: 'block mb-2' %>
          <%= f.password_field :password, autocomplete: "new-password", 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
          <p class="text-sm text-gray-600 mt-1">Leave blank if you don't want to change it</p>
        </div>

        <div class="form-group">
          <%= f.label :password_confirmation, class: 'block mb-2' %>
          <%= f.password_field :password_confirmation, autocomplete: "new-password", 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
        </div>

        <div class="form-group">
          <%= f.label :current_password, class: 'block mb-2' %>
          <%= f.password_field :current_password, autocomplete: "current-password", 
              class: 'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black' %>
          <p class="text-sm text-gray-600 mt-1">We need your current password to confirm your changes</p>
        </div>

        <div class="form-group">
          <%= f.submit "Update Profile", class: 'bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition' %>
        </div>
      <% end %>
    </section>

    <!-- Account Deletion Section -->
    <section id="account-deletion" class="mb-8">
      <h2 class="text-2xl font-bold mb-6 text-red-600">Delete Account</h2>
      
      <div class="bg-red-50 border border-red-200 p-4 rounded-md">
        <p class="text-red-700 mb-4">
          Deleting your account is a permanent action and cannot be undone.
        </p>
        
        <%= button_to "Delete My Account", registration_path(resource_name), 
            method: :delete, 
            data: { 
              confirm: "Are you absolutely sure you want to delete your account? This action cannot be undone.", 
              turbo_confirm: "Are you absolutely sure you want to delete your account? This action cannot be undone."
            }, 
            class: 'bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition' %>
      </div>
    </section>
  </div>
</div>
