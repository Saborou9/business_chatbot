<%= turbo_stream.append "user_messages" do %>
  <div class="bg-gray-100 p-2 rounded-md">
    <p class="text-sm text-gray-700"><%= @message.context %></p>
    <small class="text-xs text-gray-500">You at <%= @message.created_at.strftime("%H:%M") %></small>
  </div>
<% end %>

<%= turbo_stream.update "new_message" do %>
  <%= render 'messages/form', chat: @chat, message: Message.new, message_disabled: true %>
<% end %>

<%= turbo_stream.update "bot_response_placeholder" do %>
  <div class="bg-green-500 text-white p-2 rounded-md animate-pulse">
    <p class="text-sm">Generating response...</p>
  </div>
<% end %>
